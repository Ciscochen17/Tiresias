# Tiresias
> Tiresias(提瑞西阿斯)是古希腊神话中的人物，他虽然双目失明，却拥有超凡的预言能力和对真相的深刻理解。这种“盲眼先知”的形象寓意着真正的智慧和远见往往超越了肉眼所见的表象，来自于更深层次的精神或神性启示。本项目最终目的是结合LLM准确预测大A的市场动向（从单个股到多个股的集合），与该人物寓意契合。
## 学习文档
### 基本语法
编辑该文档使用 [markdone](https://markdown.com.cn/basic-syntax/links.html)
### 数据获取第三方库
[AKshare](https://akshare.akfamily.xyz)  
[Tushare](https://tushare.pro)  
[Bostock](http://www.baostock.com/mainContent?file=home.md)
### 策略池子
[JoinQuant](https://www.joinquant.com/view/community/detail/8ec7aaaa899cf928550f89a104637f22)
### 回测框架
[Backtrader](https://www.poloxue.com/backtrader/docs/03-quickstart/)  
[VNpy](https://www.vnpy.com)  
### 实盘对接
需要自行对接券商API（QMT、Ptrade），待补充  

---  

## 安装记录
### vn.py
[Mac官方安装教程](https://www.vnpy.com/docs/cn/community/install/mac_install.html)  
有坑的地方在安装**vnpy_ctp**，官方git clone再编译方法坑多，建议执行 pip install git+https://github.com/vnpy/vnpy_ctp.git@6.7.7.2

# 知识点
## 什么是复权
在量化交易中，“复权处理”（Adjustment）是一个生死攸关的概念。如果你不处理复权，你的回测结果、技术指标以及机器学习模型都会彻底失效。
1. 为什么要复权？（现象）  
当一家公司进行分红、派息、送股或转增股本时，股票的价格会发生“断层”下跌。
举个例子：
假设某股票价格是 100 元。公司宣布“10 送 10”（即你持有 1 股变 2 股）。
送股后，股价会瞬间变成 50 元。
在 K 线图上：你会看到一个巨大的缺口，股价从 100 跌到了 50，跌幅 50%。
在现实中：你的财富没变（虽然单价减半，但持股数翻倍了）。
如果你不复权直接把数据喂给模型：
均线（MA）：会因为这个 50% 的大缺口瞬间掉头向下。
机器学习：模型会认为发生了重大利空，导致股价暴跌。
技术指标（RSI、MACD）：全部失真。  
2. 三种复权方式详解  
为了消除这种非市场波动产生的缺口，我们需要进行复权处理。  
① 不复权（No Adjustment）
定义：直接使用交易所公布的原始成交价格。
缺点：K 线图不连续，历史数据无法直接计算收益率。
用途：只在观察历史某个特定时刻的真实成交价（如当时跌到了多少钱）时有用。量化回测绝不用这种数据。  
② 前复权（Forward Adjustment / QFQ）—— 最常用
做法：以当前价格为基准，保持现在的价格不变，将历史价格往下拉（调低）。
效果：当前的股价是真实的，历史的价格是“虚幻”的。
优点：
当前的股价与软件显示一致。
可以直观看到相对于现在的历史涨幅。
缺点：每次有新分红时，历史所有数据都要重新计算一遍，导致历史数据发生变动。  
③ 后复权（Backward Adjustment / HFQ）—— 回测首选
做法：以上市首日价格为基准，保持历史价格不变，将之后的价格往上加（调高）。
效果：上市时的价格是真实的，现在的价格是“虚幻”的（比如茅台后复权价格可能是几万块）。
优点：
数据的稳定性极高。今天的数据生成后，以前的历史数据永远不会变。
能真实反映投入 1 块钱从上市持股至今的复合收益。
缺点：显示的当前价格和交易所报价完全对不上，看起来不直观。
